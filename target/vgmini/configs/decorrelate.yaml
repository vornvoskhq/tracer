# Config for vg decorrelate workflow
input:
  ranking_file: vgmini/equal_weight_dual_ranking.txt
  enforce_same_date: false  # if true, abort when vgmini rank date != cluster2 date
output:
  dir: vgmini/results/decorrelated
  prefix: "{{model_name}}"  # Will be replaced by pipeline with actual model name
  include_date_suffix: false  # set to false to write fixed filenames without date
selection:
  target_size: 20
  filter: HOLD          # BUY | HOLD | ALL
  per_cluster_cap: 0.3  # fraction of target size (ceil applied)
  dedupe:
    same_cluster: true
    redundancy_groups: true
    correlation_threshold: null   # e.g., 0.85 to enable; null disables
scoring:
  weights:
    expected_return: 0.50
    cluster_momentum: 0.35
    stability: 0.15
  min_cluster_momentum: 0.20  # drop symbols if their cluster momentum below this
  use_retention_instead_of_turnover: false
cluster2:
  db_path: cluster2/data/cluster2_state.db
  refresh_before_run: false     # set true to auto-refresh cluster2 before decorrelate
  run_date_mode: match_rank_date  # latest | match_rank_date
redundancy:
  groups:
    broad_market: [SPY, VOO, IVV, VTI, ITOT, SPLG]
    nasdaq: [QQQ, QQQM, TQQQ, ONEQ]
    bonds: [TLT, IEF, BND, AGG, GOVT]
    gold: [GLD, IAU, GLDM]
    international: [EFA, VEA, IEFA]
    emerging: [EEM, VWO, IEMG]
    small_cap: [IWM, VB, IJR]
